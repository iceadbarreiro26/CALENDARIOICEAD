<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Calend√°rio ICEAD</title>

  <!-- Biblioteca PDF -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

  <!-- CSS externo -->
  <link rel="stylesheet" href="style.css">

  <!-- FIREBASE -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
    import { getDatabase } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js";

    // Configura√ß√£o do Firebase do seu projeto
    const firebaseConfig = {
      apiKey: "AIzaSyDeilE0hgCa2PBVUpoewLjD_N0sR9fsyPE",
      authDomain: "calendarioicead.firebaseapp.com",
      databaseURL: "https://calendarioicead-default-rtdb.firebaseio.com",
      projectId: "calendarioicead",
      storageBucket: "calendarioicead.appspot.com",
      messagingSenderId: "750532290008",
      appId: "1:750532290008:web:70c95bd9a75a6580e27ead"
    };

    // Inicializa Firebase
    const app = initializeApp(firebaseConfig);
    const db = getDatabase(app);

    // Expondo db para o script.js
    window.firebaseDB = db;
  </script>
</head>

<body>
<div id="topButtons">
  <button id="toggleDark">üåô Modo Escuro</button>
  <button id="btnLogin">Entrar</button>
</div>

<header>
 <img src="img/logo.png" alt="Logo" width="250" height="150">
</header>

<h1>Calend√°rio ICEAD - <span id="monthTitle"></span></h1>

<div class="nav">
  <button id="prev">‚óÄÔ∏è M√™s anterior</button>
  <button id="next">Pr√≥ximo m√™s ‚ñ∂Ô∏è</button>
</div>

<div class="export-buttons edit-only" style="display:none;">
  <button onclick="exportarPDF()">Exportar PDF</button>
  <button onclick="exportarExcel()">Exportar Excel</button>
  <button onclick="window.print()">Imprimir</button>
</div>

<div id="weekdays">
  <div>Dom</div><div>Seg</div><div>Ter</div><div>Qua</div><div>Qui</div><div>Sex</div><div>S√°b</div>
</div>

<div id="calendar"></div>

<!-- Modal -->
<div id="modalOverlay">
  <div id="modal">
    <h3 id="modalTitle">Editar / Adicionar Evento</h3>

    <label>Data</label>
    <input id="modalDate" type="date" />

    <label>Tipo</label>
    <select id="modalType">
      <option value="Culto">Culto</option>
      <option value="EBD">EBD</option>
      <option value="Vig√≠lia">Vig√≠lia</option>
      <option value="Ensaio">Ensaio</option>
      <option value="Especial">Especial</option>
      <option value="N√£o teremos culto">N√£o teremos culto</option>
      <option value="Congrega√ß√£o">Congrega√ß√£o</option>
    </select>

    <label>Hor√°rio</label>
    <input id="modalHorario" type="time" />

    <label>Abertura</label>
    <input id="modalAbertura" type="text" placeholder="Nome/Respons√°vel" />

    <label>Dire√ß√£o do Louvor</label>
    <input id="modalLouvor" type="text" placeholder="Respons√°vel" />

    <label>Palavra</label>
    <input id="modalPalavra" type="text" placeholder="Quem ministra" />

    <div class="modal-actions">
      <button class="btn btn-secondary" id="modalCancel">Cancelar</button>
      <button class="btn btn-danger" id="modalDelete" style="display:none">Excluir</button>
      <button class="btn btn-primary" id="save-event">Salvar</button>
    </div>
  </div>
</div>

<!-- JS externo -->
<script type="module" src="script.js"></script>
</body>
</html>
